# RPT to RDF Converter - Main Configuration File
# ================================================
# This file configures the Crystal Reports to Oracle Reports batch converter.
# Environment variables can override these settings (see documentation).

# Extraction Settings
# -------------------
# Configuration for extracting Crystal Reports RPT files to XML
extraction:
  # Extraction mode: "docker", "java", or "dotnet"
  # - java: Use Java SDK directly (recommended, works on all platforms including macOS)
  # - docker: Use Docker container (alternative, works on all platforms)
  # - dotnet: Use .NET Edition (Windows only)
  mode: "java"

  # Docker settings (used when mode: "docker")
  docker:
    # Docker image name for rpttoxml
    image: "rpttoxml:latest"

  # Path to RptToXml executable or script (used when mode: "java" or "dotnet")
  # Options:
  #   - Java Edition (cross-platform): "./tools/RptToXmlJava/rpttoxml.sh"
  #   - .NET Edition (Windows only): "./tools/RptToXml/RptToXml.exe"
  rpttoxml_path: "./tools/RptToXmlJava/rpttoxml.sh"

  # Temporary directory for intermediate files
  temp_directory: "./temp"

  # Timeout for extracting a single RPT file (seconds)
  timeout_seconds: 120

  # Number of parallel workers for batch extraction
  parallel_workers: 4

  # Number of retry attempts for failed extractions
  retry_attempts: 2

# Oracle Reports Configuration
# ----------------------------
# Settings for Oracle Reports 12c environment
#
# Two modes are supported:
#   1. Docker mode: Run Oracle Reports in a Docker container
#   2. Native mode: Use a local or remote Oracle Reports installation
#
oracle:
  # Conversion mode: "docker" or "native"
  # - docker: Use Docker container for rwconverter (recommended for dev)
  # - native: Use local Oracle Reports installation
  mode: "docker"

  # Docker settings (used when mode: "docker")
  docker:
    # Docker container name running Oracle Reports
    container: "oracle-reports"
    # Oracle home inside the container
    oracle_home: "/u01/oracle/product/12c"
    # Database host (usually the db container name)
    db_host: "oracle-db"
    # Database port
    db_port: 1521
    # Database service name
    db_service: "XE"

  # Native settings (used when mode: "native")
  # Oracle home directory (e.g., C:\Oracle\Middleware\Oracle_Home)
  # Can be overridden with ORACLE_HOME environment variable
  home: ""

  # Database connection string (user/password@database)
  # Can be overridden with ORACLE_CONNECTION environment variable
  connection: ""

  # Reports server address
  reports_server: "localhost:9002"

# Path Configuration
# ------------------
# Directories for input, output, and logs
paths:
  # Directory containing RPT files to convert
  input_directory: "./input"

  # Directory for generated RDF files
  output_directory: "./output"

  # Directory for log files
  log_directory: "./logs"

# Conversion Settings
# -------------------
# Controls how the converter handles various scenarios
conversion:
  # Action for unsupported formulas: placeholder, skip, or fail
  # - placeholder: Replace with a placeholder function that needs manual completion
  # - skip: Skip the formula entirely (may affect report functionality)
  # - fail: Stop conversion and report the error
  on_unsupported_formula: "placeholder"

  # Action for complex layouts: simplify, skip, or fail
  on_complex_layout: "simplify"

  # Action for subreports: inline, skip, or reference
  # - inline: Attempt to inline subreport content
  # - skip: Skip subreports entirely
  # - reference: Create a reference placeholder
  on_subreport: "inline"

  # Naming conventions for Oracle Reports elements
  formula_prefix: "CF_"
  parameter_prefix: "P_"
  field_prefix: "F_"

  # Layout settings
  coordinate_unit: "points"  # points, inches, or cm
  default_font: "Arial"
  default_font_size: 10

# Logging Configuration
# ---------------------
logging:
  # Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
  level: "INFO"

  # Log message format
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

  # Log file path
  file: "./logs/conversion.log"

  # Enable console output
  console_output: true

  # Enable file output
  file_output: true
